{%- comment -%}
------------------------------------------------------------------------------------------------------------------------
DEVELOPER NOTE: the slideshow is one of Prestige most complex sections due to the large number of settings it offers. We
highly recommend you to not edit the code unless you have fully reviewed and understood all the code. A simple change
may have important consequence on the section itself.
------------------------------------------------------------------------------------------------------------------------
{%- endcomment -%}

{%- if section.blocks.size > 0 -%}
  {%- assign carousel_id = 'carousel-' | append: section.id -%}

  <slideshow-carousel id="{{ carousel_id }}" class="slideshow" allow-swipe {% if section.settings.allow_transparent_header %}allow-transparent-header{% endif %} cell-selector=".slideshow__slide" {% if section.settings.autoplay %}autoplay="{{ section.settings.cycle_speed }}"{% endif %} {% if section.settings.autoplay and section.settings.autoplay_pause_on_video %}autoplay-pause-on-video{% endif %} role="region" aria-label="Slideshow" aria-roledescription="carousel" aria-live="off" style="{% render 'surface', background: section.settings.background %}">
    {%- for block in section.blocks -%}
      {%- capture slide -%}
        <div class="content-over-media content-over-media--{{ section.settings.media_size }}" style="--content-over-media-content-max-width: {{ block.settings.content_max_width }}px; --content-over-media-gradient-overlay: {{ block.settings.gradient_overlay }}">
          {%- comment -%}---------------- MEDIA ----------------{%- endcomment -%}
          {%- if block.type == 'image' -%}
            {%- if block.settings.image != blank -%}
              {%- liquid
                if forloop.first
                  assign loading_strategy = nil
                  assign fetch_priority = 'high'
                else
                  assign loading_strategy = 'lazy'
                  assign fetch_priority = 'low'
                endif
              -%}

              <picture>
                {%- if block.settings.mobile_image != blank -%}
                  <source
                      media="(max-width: 699px)"
                      srcset="{{ block.settings.mobile_image | image_url: width: 400 }} 400w, {{ block.settings.mobile_image | image_url: width: 600 }} 600w, {{ block.settings.mobile_image | image_url: width: 800 }} 800w, {{ block.settings.mobile_image | image_url: width: 1000 }} 1000w"
                      width="{{ block.settings.mobile_image.width }}"
                      height="{{ block.settings.mobile_image.height }}"
                  >
                {%- endif -%}

                {{- block.settings.image | image_url: width: block.settings.image.width | image_tag: loading: loading_strategy, fetchpriority: fetch_priority, sizes: '100vw', widths: '300,400,500,600,700,800,900,1000,1200,1400,1600,1800,2000,2200,2400,2600,2800,3000,3200' -}}
              </picture>
            {%- else -%}
              {%- capture placeholder_image -%}{% cycle 'placeholder': 'lifestyle-1', 'lifestyle-2' %}{%- endcapture -%}
              <span aria-hidden="true">
                {{- placeholder_image | placeholder_svg_tag: 'placeholder' | replace: '<svg', '<svg preserveAspectRatio="xMinYMin slice"' -}}
              </span>
            {%- endif -%}
          {%- else -%}
            {%- liquid
              if section.settings.autoplay
                assign loop_video = false
              else
                assign loop_video = true
              endif

              if block.settings.video != blank
                if block.settings.mobile_video == blank
                  render 'media', media: block.settings.video, autoplay: true, loop: loop_video, controls: false, preload: forloop.first
                else
                  render 'media', media: block.settings.video, autoplay: true, loop: loop_video, controls: false, preload: forloop.first, class: 'hidden sm:block'
                  render 'media', media: block.settings.mobile_video, autoplay: true, loop: loop_video, controls: false, preload: forloop.first, class: 'sm:hidden'
                endif
              else
                capture placeholder_image
                  cycle 'placeholder': 'lifestyle-1', 'lifestyle-2'
                endcapture

                echo '<span aria-hidden="true">'
                echo placeholder_image | placeholder_svg_tag: 'placeholder' | replace: '<svg', '<svg preserveAspectRatio="xMinYMin slice"'
                echo '</span>'
              endif
            -%}
          {%- endif -%}

          {%- comment -%}---------------- CONTENT ----------------{%- endcomment -%}
          {% liquid
            assign is_boxed = false
            assign has_background = false
            assign has_border = false
            assign has_inside_offset = false

            if block.settings.background_opacity > 0 and block.settings.background != blank and block.settings.background != 'rgba(0,0,0,0)'
              assign has_background = true
            endif

            if block.settings.border_color != blank and block.settings.border_color != 'rgba(0,0,0,0)'
              assign has_border = true
            endif

            if has_background and has_border
              assign has_inside_offset = true
            endif

            if has_background or has_border
              assign is_boxed = true
            endif
          %}

          <div class="slideshow__slide-content {% if is_boxed %}slideshow__slide-content--boxed{% endif %} {% if has_border %}slideshow__slide-content--with-border{% endif %} {% if has_inside_offset %}slideshow__slide-content--with-border-offset{% endif %} {{ block.settings.mobile_text_position }} {{ block.settings.desktop_text_position }}" style="{% render 'surface', background: block.settings.background, background_opacity: block.settings.background_opacity, text_color: block.settings.text_color, border_color: block.settings.border_color %}">
            <div class="prose" style="--slideshow-gap-subheading: {{ block.settings.gap_after_subheading }}px; --slideshow-gap-title: {{ block.settings.gap_after_title }}px; --slideshow-gap-before-buttons: {{ block.settings.gap_before_buttons }}px; --slideshow-mobile-gap-before-subheading: {{ block.settings.mobile_gap_before_subheading }}px;">
              {%- if block.settings.subheading != blank -%}
                <p class="h6">{{ block.settings.subheading }}</p>
              {%- endif -%}

              {%- if block.settings.title != blank -%}
                {%- assign processed_title = block.settings.title -%}

                {%- comment %}
                  Option A: highlight any [[word]] typed directly in the Title field
                  Example title: Coastal [[Cowgirl]] Collection  -> wraps “Cowgirl”
                {% endcomment -%}
                {%- assign processed_title = processed_title | replace: '[[', '<span class="h1__highlight">' | replace: ']]', '</span>' -%}

                {%- comment %}
                  Option B: also highlight words from the block setting “highlight_words”
                  (comma-separated, exact case match)
                {% endcomment -%}
                {%- if block.settings.highlight_words != blank -%}
                  {%- assign _words = block.settings.highlight_words | split: ',' -%}
                  {%- for _w in _words -%}
                    {%- assign _w = _w | strip -%}
                    {%- if _w != '' -%}
                      {%- assign processed_title = processed_title
                        | replace: _w, '<span class="h1__highlight">' | append: _w | append: '</span>' -%}
                    {%- endif -%}
                  {%- endfor -%}
                {%- endif -%}

                <h2 class="h1">{{ processed_title }}</h2>

                {%- comment -%} promo note + details popup (added) {%- endcomment -%}
                {%- if block.settings.promo_note != blank -%}
                  {%- assign promo_dialog_id = 'promo-details-' | append: section.id | append: '-' | append: block.id -%}

                  <div class="slideshow__promo-wrap">
                    <p class="slideshow__promo-note">
                      {{ block.settings.promo_note }}{%- if block.settings.promo_details_text != blank -%}&nbsp;<button type="button" class="slideshow__promo-note-link" data-promo-open="{{ promo_dialog_id }}" aria-haspopup="dialog" aria-controls="{{ promo_dialog_id }}" aria-expanded="false">{{ block.settings.promo_link_label | default: 'details' }}</button>{%- endif -%}
                    </p>
                  </div>

                  {%- if block.settings.promo_details_text != blank -%}
                    {%- assign promo_dialog_title_id = promo_dialog_id | append: '-title' -%}
                    <dialog id="{{ promo_dialog_id }}" class="slideshow__promo-dialog" aria-labelledby="{{ promo_dialog_title_id }}" aria-describedby="{{ promo_dialog_id }}-content" aria-modal="true">
                      <div class="slideshow__promo-dialog-inner">
                        <button type="button" class="slideshow__promo-dialog-close" data-promo-close="{{ promo_dialog_id }}" aria-label="Close">×</button>

                        <div class="slideshow__promo-dialog-content" id="{{ promo_dialog_id }}-content">
                          <h2 id="{{ promo_dialog_title_id }}" class="sr-only">Promotion details</h2>
                          {{ block.settings.promo_details_text | escape | newline_to_br }}
                        </div>
                      </div>
                    </dialog>
                  {%- endif -%}
                {%- endif -%}
              {%- endif -%}

              {%- if block.settings.button_1_text != blank or block.settings.button_2_text != blank -%}
                {%- assign button_mobile_position = block.settings.mobile_text_position | split: 'text-' | last -%}
                {%- assign button_desktop_position = block.settings.desktop_text_position | split: 'text-' | last -%}

                {%- if block.settings.button_1_style == 'link' or block.settings.button_2_style == 'link' or block.settings.button_1_text == blank or block.settings.button_2_text == blank -%}
                  {%- capture button_wrapper_class -%}button-group justify-{{ button_mobile_position }} sm:justify-{{ button_desktop_position }}{%- endcapture -%}
                {%- else -%}
                  {%- capture button_wrapper_class -%}button-group button-group--same-width justify-{{ button_mobile_position }} sm:justify-{{ button_desktop_position }}{%- endcapture -%}
                {%- endif -%}

                <div class="{{ button_wrapper_class }}">
                  {%- if block.settings.button_1_text != blank -%}
                    {%- render 'button', href: block.settings.button_1_link, content: block.settings.button_1_text, style: block.settings.button_1_style, background: block.settings.button_1_background, text_color: block.settings.button_1_text_color -%}
                  {%- endif -%}

                  {%- if block.settings.button_2_text != blank -%}
                    {%- render 'button', href: block.settings.button_2_link, content: block.settings.button_2_text, style: block.settings.button_2_style, background: block.settings.button_2_background, text_color: block.settings.button_2_text_color -%}
                  {%- endif -%}

                </div>
              {%- endif -%}
            </div>
          </div>
        </div>

        {%- if block.type == 'video' and block.settings.video != blank and block.settings.allow_sound -%}
          <div class="slideshow__volume-control" style="{% render 'surface', text_color: section.settings.controls_color %}">
            <button type="button" data-action="unmute">
              <span class="sr-only">{{ 'general.accessibility.unmute_video' | t }}</span>
              {%- render 'icon' with 'unmute' -%}
            </button>

            <button type="button" data-action="mute" hidden>
              <span class="sr-only">{{ 'general.accessibility.mute_video' | t }}</span>
              {%- render 'icon' with 'mute' -%}
            </button>
          </div>
        {%- endif -%}
      {%- endcapture -%}

      {%- if block.settings.button_1_link != blank and block.settings.button_1_text == blank and block.settings.button_2_text == blank -%}
        <a href="{{ block.settings.button_1_link }}" class="slideshow__slide {% if forloop.first %}is-selected{% endif %}" media-type="{{ block.type }}" {% if forloop.first and section.settings.show_initial_transition %}reveal-on-scroll="true"{% endif %} role="group" {{ block.shopify_attributes }}>
          {{- slide -}}
        </a>
      {%- else -%}
        <div class="slideshow__slide {% if forloop.first %}is-selected{% endif %}" media-type="{{ block.type }}" {% if forloop.first and section.settings.show_initial_transition %}reveal-on-scroll="true"{% endif %} role="group" {{ block.shopify_attributes }}>
          {{- slide -}}
        </div>
      {%- endif -%}
    {%- endfor -%}

    {%- if section.blocks.size > 1 -%}
      <carousel-navigation aria-controls="{{ carousel_id }}" class="page-dots {% if section.settings.autoplay %}page-dots--autoplay{% endif %}" aria-label="Slideshow navigation" style="{% render 'surface', text_color: section.settings.controls_color %}">
        {%- for i in (1..section.blocks.size) -%}
          <button type="button" class="tap-area" aria-current="{% if forloop.first %}true{% else %}false{% endif %}">
            <span class="sr-only">{{ 'general.accessibility.go_to_item' | t: index: forloop.index }}</span>

            {%- if section.settings.autoplay -%}
              <svg class="circular-progress" height="8" width="8" viewBox="0 0 8 8" style="--stroke-dasharray: {{ 2 | times: 3.14159265359 | times: 3.25 }}">
                <circle cx="50%" cy="50%" fill="none" stroke-width="1.5" r="3.25" stroke="currentColor" stroke-opacity="0.2"></circle>
                <circle cx="50%" cy="50%" fill="none" stroke-width="1.5" r="3.25" stroke="currentColor" stroke-linecap="round"></circle>
              </svg>
            {%- endif -%}
          </button>
        {%- endfor -%}
        {%- if section.settings.autoplay -%}
          <button type="button" class="tap-area page-dots__toggle" data-slideshow-toggle aria-pressed="false">
            <span class="sr-only" data-slideshow-toggle-sr>Pause slideshow</span>
            <svg class="page-dots__icon" data-slideshow-toggle-icon="pause" aria-hidden="true" viewBox="0 0 12 12" focusable="false">
              <rect x="2" y="2" width="3" height="8" rx="1"></rect>
              <rect x="7" y="2" width="3" height="8" rx="1"></rect>
            </svg>
            <svg class="page-dots__icon" data-slideshow-toggle-icon="play" aria-hidden="true" viewBox="0 0 12 12" focusable="false" hidden>
              <path d="M4 2.5L10 6 4 9.5Z"></path>
            </svg>
          </button>
        {%- endif -%}
      </carousel-navigation>

    {%- endif -%}

    {%- if section.settings.show_next_section_button -%}
      <button type="button" data-action="navigate-next" class="slideshow__next-section-button circle-button circle-button--lg hover:animate-icon-block">
        <span class="sr-only">{{ 'general.accessibility.navigate_to_next_section' | t }}</span>
        {%- render 'icon' with 'arrow-down' -%}
      </button>
    {%- endif -%}
  </slideshow-carousel>
{%- endif -%}

{%- comment -%} promo note + popup styles/scripts (added) {%- endcomment -%}
<style>
  /* spacing controls (updated to always win) */
  .slideshow__slide-content .prose > :first-child{
    margin-top: 0 !important;
  }

  .slideshow__slide-content .prose > p.h6{
    margin-top: 0 !important;
    margin-bottom: var(--slideshow-gap-subheading, 10px) !important;
  }

  .slideshow__slide-content .prose > .h1{
    margin-top: 0 !important;
    margin-bottom: var(--slideshow-gap-title, 18px) !important;
  }

  .slideshow__promo-wrap{
  margin-top: 0 !important;
  }

  /* space before buttons (new, always applies) */
  .slideshow__slide-content .prose .button-group{
    margin-top: var(--slideshow-gap-before-buttons, 0px) !important;
  }

  .slideshow__promo-note{
    margin-top: 0 !important;
    margin-bottom: 12px !important; /* fixed default */
    font-size: 12px;
    line-height: 1.3;
    opacity: .85;
  }

  .slideshow__promo-note-link{
    background: none;
    border: 0;
    padding: 0;
    margin-left: 0 !important; /* IMPORTANT: no extra spacing */
    text-decoration: underline;
    cursor: pointer;
    font: inherit;
    opacity: .95;
  }

  /* centered dialog across all devices (updated) */
  .slideshow__promo-dialog{
    border: 0;
    padding: 0;
    max-width: 560px;
    width: calc(100% - 32px);
    border-radius: 14px;

    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);

    max-height: calc(100vh - 32px);
  }
  .slideshow__promo-dialog::backdrop{
    background: rgba(0,0,0,.55);
  }
  .slideshow__promo-dialog-inner{
    position: relative;
    padding: 18px 18px 16px;
    max-height: calc(100vh - 64px);
    overflow: auto;
  }
  .slideshow__promo-dialog-close{
    position: absolute;
    top: 10px;
    right: 12px;
    background: none;
    border: 0;
    font-size: 22px;
    line-height: 1;
    cursor: pointer;
    opacity: .8;
  }
  .slideshow__promo-dialog-content{
    font-size: 14px;
    line-height: 1.5;
    white-space: normal;
  }

  .page-dots__toggle{
    width: calc(var(--dot-size) * 5);
    height: calc(var(--dot-size) * 5);
    border-radius: var(--rounded-full);
    position: relative;
    display: grid;
    place-content: center;
    align-self: flex-end;
    transform: translateY(12px);
    color: #ffffff;
  }

  .page-dots__toggle:after{
    content: "";
    border-radius: inherit;
    opacity: 1;
    background: #000000;
    position: absolute;
    inset: 0;
  }

  .page-dots__icon{
    width: 10px;
    height: 10px;
    position: relative;
    z-index: 1;
    fill: currentColor;
  }

  #shopify-section-{{ section.id }} .page-dots{
    align-items: flex-end;
  }


  /* Mobile: space before subheading (added) */
  @media (max-width: 699px){
    #shopify-section-{{ section.id }} .slideshow__slide-content .prose > p.h6{
      margin-top: var(--slideshow-mobile-gap-before-subheading, 0px) !important;
    }
  }

  /* Mobile Headings plus button positioning fix*/
  @media (max-width: 699px){
    #shopify-section-{{ section.id }} .slideshow__slide-content{
      transform: translateY(0px) !important; /* change px for position */
    }
  }
</style>

<script>
  (function () {
    const lastFocusedByDialog = {};

    function restoreFocus(dialog) {
      const opener = lastFocusedByDialog[dialog.id];
      if (opener) {
        opener.setAttribute('aria-expanded', 'false');
        opener.focus();
        delete lastFocusedByDialog[dialog.id];
      }
    }

    function openDialog(openBtn, dialog) {
      lastFocusedByDialog[dialog.id] = openBtn;
      openBtn.setAttribute('aria-expanded', 'true');

      if (!dialog.dataset.a11yBound) {
        dialog.addEventListener('close', function () {
          restoreFocus(dialog);
        });
        dialog.dataset.a11yBound = 'true';
      }

      if (typeof dialog.showModal === 'function') {
        dialog.showModal();
        const closeBtn = dialog.querySelector('[data-promo-close="' + dialog.id + '"]');
        if (closeBtn) {
          closeBtn.focus();
        } else {
          dialog.focus();
        }
      }
    }

    function closeDialog(dialog) {
      if (dialog && typeof dialog.close === 'function') {
        dialog.close();
        restoreFocus(dialog);
      }
    }

    document.addEventListener('click', function (e) {
    const openBtn = e.target.closest('[data-promo-open]');
    if (openBtn) {
      e.preventDefault();
      const id = openBtn.getAttribute('data-promo-open');
      const dlg = document.getElementById(id);
      if (dlg) {
        openDialog(openBtn, dlg);
      }
      return;
    }

    const closeBtn = e.target.closest('[data-promo-close]');
    if (closeBtn) {
      e.preventDefault();
      const id = closeBtn.getAttribute('data-promo-close');
      const dlg = document.getElementById(id);
      closeDialog(dlg);
      return;
    }

    if (e.target && e.target.tagName === 'DIALOG') {
      closeDialog(e.target);
    }
  });

  (function () {
    const sectionEl = document.getElementById('shopify-section-{{ section.id }}');
    if (!sectionEl) return;
    const toggleBtns = Array.from(sectionEl.querySelectorAll('[data-slideshow-toggle]'));
    const carousel = document.getElementById('{{ carousel_id }}');

    function syncButtons(paused) {
      toggleBtns.forEach((btn) => {
        const srText = btn.querySelector('[data-slideshow-toggle-sr]');
        const pauseIcon = btn.querySelector('[data-slideshow-toggle-icon="pause"]');
        const playIcon = btn.querySelector('[data-slideshow-toggle-icon="play"]');
        btn.setAttribute('aria-pressed', paused ? 'true' : 'false');
        if (srText) srText.textContent = paused ? 'Play slideshow' : 'Pause slideshow';
        if (pauseIcon) pauseIcon.hidden = paused;
        if (playIcon) playIcon.hidden = !paused;
      });
    }

    function setPaused(paused) {
      syncButtons(paused);
      if (!carousel || !carousel.player) return;
      if (paused) {
        carousel.player.stop();
      } else {
        carousel.player.start();
      }
    }

    toggleBtns.forEach((btn) => {
      btn.addEventListener('click', function () {
        const isPaused = btn.getAttribute('aria-pressed') === 'true';
        setPaused(!isPaused);
      });
    });

    if (document.documentElement.classList.contains('a11y-pause-autoplay')) {
      setPaused(true);
    } else {
      syncButtons(false);
    }

    document.documentElement.addEventListener('a11y:settings-changed', function (event) {
      if (!event || !event.detail) return;
      if (typeof event.detail.pauseAutoplay === 'boolean') {
        setPaused(event.detail.pauseAutoplay);
      }
    });
  })();
  })();
</script>

{% schema %}
{
  "name": "t:sections.slideshow.name",
  "class": "shopify-section--slideshow",
  "tag": "section",
  "max_blocks": 6,
  "disabled_on": {
    "groups": ["header", "custom.overlay"]
  },
  "settings": [
    {
      "type": "checkbox",
      "id": "allow_transparent_header",
      "label": "t:global.section.allow_transparent_header",
      "info": "t:global.section.allow_transparent_header_info",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_next_section_button",
      "label": "t:sections.slideshow.show_next_section_button",
      "default": true
    },
    {
      "type": "select",
      "id": "media_size",
      "label": "t:global.image.size",
      "options": [
        {
          "value": "auto",
          "label": "t:global.sizes.original_image_ratio"
        },
        {
          "value": "xs",
          "label": "t:global.sizes.x_small"
        },
        {
          "value": "sm",
          "label": "t:global.sizes.small"
        },
        {
          "value": "md",
          "label": "t:global.sizes.medium"
        },
        {
          "value": "lg",
          "label": "t:global.sizes.large"
        },
        {
          "value": "fill",
          "label": "t:global.sizes.fit_screen"
        }
      ],
      "info": "t:global.image.ratio_avoid_cropping_info",
      "default": "auto"
    },
    {
      "type": "checkbox",
      "id": "show_initial_transition",
      "label": "t:sections.slideshow.show_initial_transition",
      "info": "t:sections.slideshow.show_initial_transition_info",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "t:sections.slideshow.auto_rotate_between_slides",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_pause_toggle",
      "label": "Show pause/play control",
      "info": "Recommended for accessibility when auto-rotate is enabled.",
      "default": false
    },
    {
      "type": "checkbox",
      "id": "autoplay_pause_on_video",
      "label": "t:sections.slideshow.autoplay_pause_on_video",
      "default": true
    },
    {
      "type": "range",
      "id": "cycle_speed",
      "min": 4,
      "max": 20,
      "step": 1,
      "unit": "sec",
      "label": "t:sections.slideshow.cycle_speed",
      "default": 5
    },
    {
      "type": "header",
      "content": "t:global.colors.category"
    },
    {
      "type": "color",
      "id": "background",
      "label": "t:sections.slideshow.background",
      "info": "t:sections.slideshow.background_info",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "controls_color",
      "label": "t:sections.slideshow.controls_color",
      "info": "t:sections.slideshow.controls_color_info",
      "default": "#ffffff"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "t:sections.slideshow.blocks.image.name",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "info": "t:sections.slideshow.blocks.image.desktop_image_size_recommendation",
          "label": "t:global.image.image"
        },
        {
          "type": "image_picker",
          "id": "mobile_image",
          "label": "t:global.image.mobile_image",
          "info": "t:sections.slideshow.blocks.image.mobile_image_size_recommendation"
        },
        {
          "type": "header",
          "content": "t:sections.slideshow.blocks.image.content_category"
        },
        {
          "type": "inline_richtext",
          "id": "subheading",
          "label": "t:global.text.subheading",
          "default": "Tell your story"
        },
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "t:global.text.heading",
          "default": "Image slide"
        },
        {
          "type": "inline_richtext",
          "id": "promo_note",
          "label": "Small text under heading",
          "default": "online only. exclusions apply."
        },
        {
          "type": "text",
          "id": "promo_link_label",
          "label": "Details link label",
          "default": "details"
        },
        {
          "type": "textarea",
          "id": "promo_details_text",
          "label": "Details popup text (shows exactly as typed)",
          "default": "promotion details:\n• online only\n• exclusions apply\n• while supplies last"
        },
        {
          "type": "header",
          "content": "Spacing controls"
        },
        {
          "type": "range",
          "id": "mobile_gap_before_subheading",
          "min": -30,
          "max": 80,
          "step": 2,
          "unit": "px",
          "label": "Mobile: space before subheading",
          "default": 0
        },
        {
          "type": "range",
          "id": "gap_after_subheading",
          "min": 0,
          "max": 48,
          "step": 2,
          "unit": "px",
          "label": "Space after subheading",
          "default": 10
        },
        {
          "type": "range",
          "id": "gap_after_title",
          "min": -20,
          "max": 64,
          "step": 2,
          "unit": "px",
          "label": "Space after heading",
          "default": 18
        },
        {
          "type": "range",
          "id": "gap_before_buttons",
          "min": -40,
          "max": 120,
          "step": 2,
          "unit": "px",
          "label": "Space before buttons",
          "default": 0
        },
        {
          "type": "text",
          "id": "highlight_words",
          "label": "Highlight words (comma-separated)",
          "info": "Exact case match. You can also wrap words in the Title with [[double brackets]] to highlight."
        },
        {
          "type": "select",
          "id": "mobile_text_position",
          "label": "t:global.position.mobile_content_position",
          "options": [
            {
              "value": "place-self-start text-start",
              "label": "t:global.position.top_left"
            },
            {
              "value": "place-self-start-center text-center",
              "label": "t:global.position.top_center"
            },
            {
              "value": "place-self-start-end text-end",
              "label": "t:global.position.top_right"
            },
            {
              "value": "place-self-center-start text-start",
              "label": "t:global.position.middle_left"
            },
            {
              "value": "place-self-center text-center",
              "label": "t:global.position.middle_center"
            },
            {
              "value": "place-self-center-end text-end",
              "label": "t:global.position.middle_right"
            },
            {
              "value": "place-self-end-start text-start",
              "label": "t:global.position.bottom_left"
            },
            {
              "value": "place-self-end-center text-center",
              "label": "t:global.position.bottom_center"
            },
            {
              "value": "place-self-end text-end",
              "label": "t:global.position.bottom_right"
            }
          ],
          "default": "place-self-center text-center"
        },
        {
          "type": "select",
          "id": "desktop_text_position",
          "label": "t:global.position.desktop_content_position",
          "options": [
            {
              "value": "sm:place-self-start sm:text-start",
              "label": "t:global.position.top_left"
            },
            {
              "value": "sm:place-self-start-center sm:text-center",
              "label": "t:global.position.top_center"
            },
            {
              "value": "sm:place-self-start-end sm:text-end",
              "label": "t:global.position.top_right"
            },
            {
              "value": "sm:place-self-center-start sm:text-start",
              "label": "t:global.position.middle_left"
            },
            {
              "value": "sm:place-self-center sm:text-center",
              "label": "t:global.position.middle_center"
            },
            {
              "value": "sm:place-self-center-end sm:text-end",
              "label": "t:global.position.middle_right"
            },
            {
              "value": "sm:place-self-end-start sm:text-start",
              "label": "t:global.position.bottom_left"
            },
            {
              "value": "sm:place-self-end-center sm:text-center",
              "label": "t:global.position.bottom_center"
            },
            {
              "value": "sm:place-self-end sm:text-end",
              "label": "t:global.position.bottom_right"
            }
          ],
          "default": "sm:place-self-center sm:text-center"
        },
        {
          "type": "range",
          "id": "content_max_width",
          "label": "t:sections.slideshow.blocks.image.content_maximum_width",
          "min": 400,
          "max": 1200,
          "step": 20,
          "unit": "px",
          "default": 780
        },
        {
          "type": "header",
          "content": "t:global.text.button_1_category"
        },
        {
          "type": "text",
          "id": "button_1_text",
          "label": "t:global.text.text"
        },
        {
          "type": "url",
          "id": "button_1_link",
          "label": "t:global.text.link",
          "info": "t:sections.slideshow.blocks.image.button_1_link_info"
        },
        {
          "type": "select",
          "id": "button_1_style",
          "label": "t:global.text.style",
          "options": [
            {
              "value": "outline",
              "label": "t:global.text.link_style_options.outline"
            },
            {
              "value": "solid",
              "label": "t:global.text.link_style_options.solid"
            },
            {
              "value": "link",
              "label": "t:global.text.link_style_options.link"
            }
          ],
          "default": "solid"
        },
        {
          "type": "color",
          "id": "button_1_background",
          "label": "t:global.colors.background",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "button_1_text_color",
          "label": "t:global.colors.text",
          "default": "#000000"
        },
        {
          "type": "header",
          "content": "t:global.text.button_2_category"
        },
        {
          "type": "text",
          "id": "button_2_text",
          "label": "t:global.text.text"
        },
        {
          "type": "url",
          "id": "button_2_link",
          "label": "t:global.text.link"
        },
        {
          "type": "select",
          "id": "button_2_style",
          "label": "t:global.text.style",
          "options": [
            {
              "value": "outline",
              "label": "t:global.text.link_style_options.outline"
            },
            {
              "value": "solid",
              "label": "t:global.text.link_style_options.solid"
            },
            {
              "value": "link",
              "label": "t:global.text.link_style_options.link"
            }
          ],
          "default": "outline"
        },
        {
          "type": "color",
          "id": "button_2_background",
          "label": "t:global.colors.background",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "button_2_text_color",
          "label": "t:global.colors.text",
          "default": "#000000"
        },
        {
          "type": "header",
          "content": "t:global.colors.category"
        },
        {
          "type": "color",
          "id": "background",
          "label": "t:global.colors.background"
        },
        {
          "type": "range",
          "id": "background_opacity",
          "min": 0,
          "max": 100,
          "unit": "%",
          "label": "t:global.colors.background_opacity",
          "default": 50
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "t:global.colors.text",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "border_color",
          "label": "t:global.colors.border"
        },
        {
          "type": "color_background",
          "id": "gradient_overlay",
          "label": "t:global.colors.gradient_overlay",
          "default": "linear-gradient(180deg, rgba(54, 54, 54, 0.2) 0%, rgba(4, 4, 4, 0.65) 100%)",
          "info": "t:sections.slideshow.blocks.image.gradient_overlay_info"
        }
      ]
    },
    {
      "type": "video",
      "name": "t:sections.slideshow.blocks.video.name",
      "settings": [
        {
          "type": "video",
          "id": "video",
          "label": "t:global.video.video"
        },
        {
          "type": "video",
          "id": "mobile_video",
          "label": "t:global.video.mobile_video"
        },
        {
          "type": "checkbox",
          "id": "allow_sound",
          "label": "t:sections.slideshow.blocks.video.allow_sound",
          "default": true
        },
        {
          "type": "header",
          "content": "t:sections.slideshow.blocks.image.content_category"
        },
        {
          "type": "inline_richtext",
          "id": "subheading",
          "label": "t:global.text.subheading",
          "default": "Tell your story"
        },
        {
          "type": "inline_richtext",
          "id": "title",
          "label": "t:global.text.heading",
          "default": "Video slide"
        },
        {
          "type": "inline_richtext",
          "id": "promo_note",
          "label": "Small text under heading",
          "default": "online only. exclusions apply."
        },
        {
          "type": "text",
          "id": "promo_link_label",
          "label": "Details link label",
          "default": "details"
        },
        {
          "type": "textarea",
          "id": "promo_details_text",
          "label": "Details popup text (shows exactly as typed)",
          "default": "promotion details:\n• online only\n• exclusions apply\n• while supplies last"
        },
        {
          "type": "range",
          "id": "gap_after_promo_note",
          "min": -40,
          "max": 80,
          "step": 2,
          "unit": "px",
          "label": "Space after promo note",
          "default": 12
        },
        {
          "type": "header",
          "content": "Spacing controls"
        },
        {
          "type": "range",
          "id": "mobile_gap_before_subheading",
          "min": -30,
          "max": 80,
          "step": 2,
          "unit": "px",
          "label": "Mobile: space before subheading",
          "default": 0
        },
        {
          "type": "range",
          "id": "gap_after_subheading",
          "min": 0,
          "max": 48,
          "step": 2,
          "unit": "px",
          "label": "Space after subheading",
          "default": 10
        },
        {
          "type": "range",
          "id": "gap_after_title",
          "min": -20,
          "max": 64,
          "step": 2,
          "unit": "px",
          "label": "Space after heading",
          "default": 18
        },
        {
          "type": "range",
          "id": "gap_before_buttons",
          "min": -40,
          "max": 120,
          "step": 2,
          "unit": "px",
          "label": "Space before buttons",
          "default": 0
        },
        {
          "type": "range",
          "id": "gap_after_promo_note_2",
          "min": -40,
          "max": 80,
          "step": 2,
          "unit": "px",
          "label": "Space after promo note",
          "default": 12
        },
        {
          "type": "select",
          "id": "mobile_text_position",
          "label": "t:global.position.mobile_content_position",
          "options": [
            {
              "value": "place-self-start text-start",
              "label": "t:global.position.top_left"
            },
            {
              "value": "place-self-start-center text-center",
              "label": "t:global.position.top_center"
            },
            {
              "value": "place-self-start-end text-end",
              "label": "t:global.position.top_right"
            },
            {
              "value": "place-self-center-start text-start",
              "label": "t:global.position.middle_left"
            },
            {
              "value": "place-self-center text-center",
              "label": "t:global.position.middle_center"
            },
            {
              "value": "place-self-center-end text-end",
              "label": "t:global.position.middle_right"
            },
            {
              "value": "place-self-end-start text-start",
              "label": "t:global.position.bottom_left"
            },
            {
              "value": "place-self-end-center text-center",
              "label": "t:global.position.bottom_center"
            },
            {
              "value": "place-self-end text-end",
              "label": "t:global.position.bottom_right"
            }
          ],
          "default": "place-self-center text-center"
        },
        {
          "type": "select",
          "id": "desktop_text_position",
          "label": "t:global.position.desktop_content_position",
          "options": [
            {
              "value": "sm:place-self-start sm:text-start",
              "label": "t:global.position.top_left"
            },
            {
              "value": "sm:place-self-start-center sm:text-center",
              "label": "t:global.position.top_center"
            },
            {
              "value": "sm:place-self-start-end sm:text-end",
              "label": "t:global.position.top_right"
            },
            {
              "value": "sm:place-self-center-start sm:text-start",
              "label": "t:global.position.middle_left"
            },
            {
              "value": "sm:place-self-center sm:text-center",
              "label": "t:global.position.middle_center"
            },
            {
              "value": "sm:place-self-center-end sm:text-end",
              "label": "t:global.position.middle_right"
            },
            {
              "value": "sm:place-self-end-start sm:text-start",
              "label": "t:global.position.bottom_left"
            },
            {
              "value": "sm:place-self-end-center sm:text-center",
              "label": "t:global.position.bottom_center"
            },
            {
              "value": "sm:place-self-end sm:text-end",
              "label": "t:global.position.bottom_right"
            }
          ],
          "default": "sm:place-self-center sm:text-center"
        },
        {
          "type": "range",
          "id": "content_max_width",
          "label": "t:sections.slideshow.blocks.image.content_maximum_width",
          "min": 400,
          "max": 1200,
          "step": 20,
          "unit": "px",
          "default": 780
        },
        {
          "type": "header",
          "content": "t:global.text.button_1_category"
        },
        {
          "type": "text",
          "id": "button_1_text",
          "label": "t:global.text.text"
        },
        {
          "type": "url",
          "id": "button_1_link",
          "label": "t:global.text.link",
          "info": "t:sections.slideshow.blocks.image.button_1_link_info"
        },
        {
          "type": "select",
          "id": "button_1_style",
          "label": "t:global.text.style",
          "options": [
            {
              "value": "outline",
              "label": "t:global.text.link_style_options.outline"
            },
            {
              "value": "solid",
              "label": "t:global.text.link_style_options.solid"
            },
            {
              "value": "link",
              "label": "t:global.text.link_style_options.link"
            }
          ],
          "default": "solid"
        },
        {
          "type": "color",
          "id": "button_1_background",
          "label": "t:global.colors.background",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "button_1_text_color",
          "label": "t:global.colors.text",
          "default": "#000000"
        },
        {
          "type": "header",
          "content": "t:global.text.button_2_category"
        },
        {
          "type": "text",
          "id": "button_2_text",
          "label": "t:global.text.text"
        },
        {
          "type": "url",
          "id": "button_2_link",
          "label": "t:global.text.link"
        },
        {
          "type": "select",
          "id": "button_2_style",
          "label": "t:global.text.style",
          "options": [
            {
              "value": "outline",
              "label": "t:global.text.link_style_options.outline"
            },
            {
              "value": "solid",
              "label": "t:global.text.link_style_options.solid"
            },
            {
              "value": "link",
              "label": "t:global.text.link_style_options.link"
            }
          ],
          "default": "outline"
        },
        {
          "type": "color",
          "id": "button_2_background",
          "label": "t:global.colors.background",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "button_2_text_color",
          "label": "t:global.colors.text",
          "default": "#000000"
        },
        {
          "type": "header",
          "content": "t:global.colors.category"
        },
        {
          "type": "color",
          "id": "background",
          "label": "t:global.colors.background"
        },
        {
          "type": "range",
          "id": "background_opacity",
          "min": 0,
          "max": 100,
          "unit": "%",
          "label": "t:global.colors.background_opacity",
          "default": 50
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "t:global.colors.text",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "border_color",
          "label": "t:global.colors.border"
        },
        {
          "type": "color_background",
          "id": "gradient_overlay",
          "label": "t:global.colors.gradient_overlay",
          "default": "linear-gradient(180deg, rgba(54, 54, 54, 0.2) 0%, rgba(4, 4, 4, 0.65) 100%)",
          "info": "t:sections.slideshow.blocks.image.gradient_overlay_info"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.slideshow.presets.slideshow.name",
      "blocks": [
        {
          "type": "image",
          "settings": {
            "title": "Slide 1"
          }
        },
        {
          "type": "image",
          "settings": {
            "title": "Slide 2"
          }
        }
      ]
    }
  ]
}
{% endschema %}
